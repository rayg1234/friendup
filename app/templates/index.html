

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="{{ url_for('static', filename="vendor/bootstrap/dist/js/bootstrap.js") }}"></script>
<link href="{{ url_for('static', filename='vendor/bootstrap/dist/css/bootstrap.min.css') }}" rel="stylesheet">
<script src="{{ url_for('static', filename="js/typeahead_old.js") }}"></script>
<link href="{{ url_for('static', filename='css/typeahead_new.css') }}" rel="stylesheet">

<script src="http://d3js.org/d3.v3.min.js"></script>


{% block content %}
<div class="”container”">



<h1><a href="”#”">UpFindr</a></h1>
<div class="col-sm-3">

<div class="panel panel-default">
  	<div class="panel-body">
	    <form role="form">
			  <div class="form-group">
			    <label for="lb1">Your Meetup ID</label>
			    <input type="" class="form-control" id="ID_Meetupid" placeholder="eg: 148054682" size="37">
			  </div>
			  <div class="form-group">
			    <label for="lb2">Your Activity</label>
			    <input type="" class="form-control" id="ID_PrimeActivity" placeholder="eg: Snowboarding" size= "37">
			   </div>
			  <div class="form-group">
			    <label for="lb3">Your Other Top Interests</label>
			    <input type="" class="form-control" id="ID_Interest1" placeholder="eg: Salsa" size= "37">
			    <input type="" class="form-control" id="ID_Interest2" placeholder="eg: Swimming" size= "37">
			    <input type="" class="form-control" id="ID_Interest3" placeholder="eg: Electronic Music" size= "37">
			 
			  </div>
			  <button ID="ID_getmatch" type="submit" class="btn btn-default">Match Now!</button>
			</form>


	</div>
</div>
</div>
	<div class="col-md-7">
             <div class="panel panel-default">
		<div class="panel-body">
                 <div class="panel-heading">The Matches</div>
		<div class="col-lg-10" id="datatablediv">
			<table class="table">
				<thead></thead>
				<tbody></tobdy>
			</table>
		</div>
		</div>
            </div>
        </div>

</div>





        
</div>

<script>
	//$('#Interest1').typeahead([{name: 'IName', prefetch: 'interestvocab.json',}]);
	//var vocabsource; // a global
	//var my_json;
	var testid = ["1234"];	

	/**$("#ID_PrimeActivity").attr("autocomplete", "off");
	$('#ID_PrimeActivity').typeahead({prefetch: "static/sample1.json"});

	$("#ID_Meetupid").attr("autocomplete", "off");
	$('#ID_Meetupid').typeahead({local: testid});


	$("#ID_Interest1").attr("autocomplete", "off");
	$('#ID_Interest1').typeahead({prefetch: "static/sample1.json"});
	$("#ID_Interest2").attr("autocomplete", "off");
	$('#ID_Interest2').typeahead({prefetch: "static/sample1.json"});
	$("#ID_Interest3").attr("autocomplete", "off");
	$('#ID_Interest3').typeahead({prefetch: "static/sample1.json"});

	$('.tt-hint').addClass('form-control');**/
	//$('#PID1').typeahead({local: mySource});

	
</script>



<script type=text/javascript>

var thecurrentdata;

  $(function() {
    $('#ID_getmatch').bind('click', function() {
	console.log("get match clicked")

      $.getJSON('/generate_match', {
        primeint: $('input[id="ID_PrimeActivity"]').val(),
	int1: $('input[id="ID_Interest1"]').val(),
	int2: $('input[id="ID_Interest2"]').val(),
	int3: $('input[id="ID_Interest3"]').val(),
      }, function(data) {
	thecurrentdata = data;
	//console.log(data)
        //$("#result").text(data.result);
	 // create some people
	var people = [
	    {name: "Jill", age: 30},
	    {name: "Bob", age: 32},
	    {name: "George", age: 29},
	    {name: "Sally", age: 31}
	];

	// render the table
	var peopleTable = tabulate(data);
      });
      return false;
    });
  });

function tabulate(thedata) {

    //var table = d3.select("#datatable").append("table").attr("class", "table"),
    //    thead = table.append("thead"),
    //    tbody = table.append("tbody");
	console.log(thedata['name'])
    var tbody = d3.select('tbody');

	//tbody.selectAll("td").remove();
    // create a row for each object in the data
    var names_row = tbody.selectAll("tr")
		 .data(['namerow'])
		 .enter()
		 .append("tr");
	
	names_row
		.selectAll("td")
		.data([thedata['name']['you'],'',thedata['name']['match']])
		.enter()
		.append("td")
		  .text(function(d) { return d; });
	
		
		//row_name
		//.data(['topmatch'])
		//.enter()
		//.append("tr")
		//.selectAll("td")
		//.data([thedata['matchset_top']['you'],'',thedata['matchset_top']['match']])
		//.enter()
		//.append("td")
		//	.text(function(d) { return d[0]; });



    return;
}

</script>


{% endblock %}



